<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year 2026!</title>
    <style>
        /* --- PHẦN 1: CẤU HÌNH GIAO DIỆN (CSS) --- */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap');

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden; /* Giữ cố định khung nhìn */
            background: linear-gradient(135deg, #4a0e0e, #1a0a2e);
            font-family: 'Nunito', sans-serif;
        }

        canvas { display: block; position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}

        /* Khung viền chính */
        .full-screen-frame {
            position: absolute;
            top: 20px; bottom: 20px;
            left: 20px; right: 20px;
            
            background: rgba(40, 10, 10, 0.65);
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 3px solid rgba(255, 215, 0, 0.6);
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(0,0,0,0.6), inset 0 0 30px rgba(255, 215, 0, 0.15);
            
            /* Căn giữa toàn bộ nội dung */
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center; 
            
            /* Cho phép cuộn nếu màn hình quá nhỏ */
            overflow-y: auto; 
            overflow-x: hidden;
            
            color: #fff; z-index: 10;
            opacity: 0; animation: fadeIn 1.5s ease-out forwards;
            padding: 20px; 
        }

        /* Thanh cuộn mảnh đẹp */
        .full-screen-frame::-webkit-scrollbar { width: 5px; }
        .full-screen-frame::-webkit-scrollbar-thumb { background: rgba(255, 215, 0, 0.3); border-radius: 10px; }

        /* Khung chứa ảnh (Slideshow) */
        .slideshow-container {
            position: relative;
            /* Kích thước ảnh linh hoạt */
            width: 35vh; height: 35vh;
            max-width: 450px; max-height: 450px;
            min-width: 220px; min-height: 220px;
            
            margin-bottom: 3vh;
            border-radius: 25px;
            border: 4px solid #ffd700;
            box-shadow: 0 10px 30px rgba(0,0,0,0.7);
            overflow: hidden;
            background: #000;
            flex-shrink: 0; 
        }

        .slide-img {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0; transition: opacity 1.5s ease-in-out;
        }
        .slide-img.active { opacity: 1; transform: scale(1.05); transition: opacity 1.5s, transform 6s linear; }

        /* Phần chữ */
        .text-content {
            max-width: 800px;
            width: 100%;
            text-align: center;
            padding-bottom: 10px;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 6vh; 
            margin-bottom: 2vh; margin-top: 0;
            color: #ffd700;
            text-shadow: 0 3px 15px rgba(255, 94, 0, 0.8);
            line-height: 1.1;
        }

        p { 
            line-height: 1.6; 
            font-size: 2.6vh; 
            color: #f5f5f5; margin-bottom: 1.5vh;
            text-shadow: 0 2px 4px rgba(0,0,0,0.6);
        }

        .highlight-name { color: #ffd700; font-weight: 800; font-size: 1.1em;}
        .highlight-wish { color: #ffbf00; font-weight: 800; }
        
        .signature { 
            margin-top: 2vh; font-style: italic; 
            font-size: 2.2vh; color: #ffd700; font-weight: 600;
            border-top: 1px solid rgba(255,215,0,0.3); 
            padding-top: 2vh; display: inline-block;
        }

        @keyframes fadeIn { to { opacity: 1; } }

        /* --- XỬ LÝ CHO CÁC MÀN HÌNH KHÁC NHAU --- */
        
        /* 1. Laptop màn hình thấp (Code sửa lỗi bị mất góc) */
        @media (max-height: 750px) {
            .full-screen-frame {
                justify-content: flex-start; /* Không căn giữa nữa mà chạy từ trên xuống */
                padding-top: 30px; 
            }
            .slideshow-container {
                width: 28vh; height: 28vh; /* Thu nhỏ ảnh lại */
                margin-bottom: 15px;
            }
            h1 { font-size: 5vh; }
            p { font-size: 2.2vh; }
        }

        /* 2. Điện thoại (Màn hình dọc) */
        @media (max-aspect-ratio: 3/4) { 
            .full-screen-frame { justify-content: center; padding: 15px; }
            .slideshow-container {
                width: 65vw; height: 65vw;
                max-width: 320px; max-height: 320px;
            }
            h1 { font-size: 3rem; }
            p { font-size: 1.2rem; }
            
            /* Nếu điện thoại quá nhỏ */
            @media (max-height: 650px) {
                .full-screen-frame { justify-content: flex-start; padding-top: 30px; }
            }
        }
    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <div class="full-screen-frame">
        
        <div class="slideshow-container">
            <img src="image_0.jfif" class="slide-img active" alt="Family Memory">
            <img src="image_1.jfif" class="slide-img" alt="New Adventure">
        </div>

        <div class="text-content">
            <h1>Happy New Year 2026!</h1>
            <p>
                To <span class="highlight-name">Auntie Le, Uncle Khanh, and Jennifer!</span>
            </p>
            <p>
                Looking back at these cherished moments makes me appreciate our family bond even more. Wishing you all a year filled with <span class="highlight-wish">health, laughter, and togetherness.</span>
            </p>
            <p>
                To <span class="highlight-name">Jennifer</span>—it’s amazing watching you grow up. May this year bring you <span class="highlight-wish">exciting new adventures</span> and a bright journey ahead!
            </p>
            <div class="signature">
                Sending much love to all of you from Vietnam! ❤️
            </div>
        </div>

    </div>

    <script>
        // 1. Chuyển ảnh tự động
        const slides = document.querySelectorAll('.slide-img');
        let currentSlide = 0;

        function nextSlide() {
            if (slides.length === 0) return; // Tránh lỗi nếu không tìm thấy ảnh
            slides[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slides.length;
            slides[currentSlide].classList.add('active');
        }
        setInterval(nextSlide, 4000); // Đổi ảnh sau 4 giây

        // 2. Hiệu ứng đốm sáng nền
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        let w, h, particles = [];
        function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
        window.addEventListener("resize", resize); resize();
        function random(min, max) { return Math.random() * (max - min) + min; }
        function Particle() {
            this.x = random(0, w); this.y = h + random(0, 200);
            this.speed = random(0.5, 1.5); this.radius = random(1, 4);
            this.opacity = random(0.3, 0.8);
            this.color = `rgba(255, ${random(150, 220)}, ${random(0, 100)}, ${this.opacity})`;
            this.wobble = random(0, Math.PI * 2);
        }
        Particle.prototype.update = function() {
            this.y -= this.speed; this.wobble += 0.02;
            this.x += Math.sin(this.wobble) * 0.5;
            if (this.y < -50) { this.y = h + 50; this.x = random(0, w); }
        }
        Particle.prototype.draw = function() {
            ctx.beginPath(); ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = this.color; ctx.shadowBlur = 15; ctx.shadowColor = "#ff6b00";
            ctx.fill(); ctx.shadowBlur = 0;
        }
        for(let i = 0; i < 80; i++) { particles.push(new Particle()); }
        function loop() {
            ctx.clearRect(0, 0, w, h); particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
</html>
